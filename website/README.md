# OpenRegulations.ai Website

AI-powered analysis of federal regulatory comments. This static website displays pre-computed analysis of public comments and provides an interactive chat interface for exploring regulations.

## Tech Stack

- **Vite** - Build tool and dev server
- **Tailwind CSS** - Utility-first styling
- **Vanilla JS** - No framework overhead
- **Cloudflare Workers** - API proxy with rate limiting

## Getting Started

### Prerequisites

- Node.js 18+
- npm or yarn

### Installation

```bash
# Navigate to website folder
cd website

# Install dependencies
npm install

# Start development server
npm run dev
```

The site will be available at `http://localhost:3000`

### Building for Production

```bash
npm run build
```

Output will be in the `dist/` folder, ready for GitHub Pages deployment.

## Project Structure

```
website/
├── index.html              # Entry point
├── src/
│   ├── main.js             # App initialization
│   ├── styles/main.css     # Tailwind + custom styles
│   ├── components/         # UI components
│   │   ├── app.js          # Main app component
│   │   ├── analysis.js     # Analysis display
│   │   ├── chat.js         # Chat interface
│   │   └── search.js       # Vector search
│   ├── lib/                # Utilities
│   │   ├── api-client.js   # Cloudflare Worker client
│   │   ├── vector-db.js    # Client-side vector search
│   │   └── utils.js        # Helper functions
│   └── data/               # Pre-computed JSON data
├── public/                 # Static assets
└── worker/                 # Cloudflare Worker proxy
    ├── index.js            # Worker code
    └── wrangler.toml       # Worker config
```

## Configuration

### Environment Variables

Create a `.env` file in the website folder:

```env
VITE_WORKER_URL=https://your-worker.workers.dev
```

### GitHub Pages Base Path

Update `vite.config.js` if deploying to a different path:

```js
base: '/your-repo-name/',
```

## Deployment

### GitHub Pages

The site is automatically deployed via GitHub Actions when pushing to main. See `.github/workflows/deploy-website.yml`.

### Cloudflare Worker

1. Install Wrangler CLI: `npm install -g wrangler`
2. Login: `wrangler login`
3. Deploy: `cd worker && wrangler deploy`

## Adding Analysis Data

Pre-computed analysis JSON files go in `src/data/`:

- `analysis-{docket-id}.json` - Theme extraction, sentiment, quotes
- `embeddings-{docket-id}.json` - Comment embeddings for vector search

These are generated by the Python scripts in `/research/01-comments-analysis/`.

## Design Theme

The site uses a "regulations" aesthetic:

- **Colors**: Navy blue (#1a365d), slate gray, cream backgrounds
- **Typography**: Merriweather (serif) for headers, Inter (sans) for body
- **Style**: Document-like cards, official but approachable

## License

Apache 2.0
